"use strict";(self.webpackChunkgenexus_web_application=self.webpackChunkgenexus_web_application||[]).push([[477],{477:(f,d,n)=>{n.r(d),n.d(d,{gx_select:()=>h});var p=n(5861),s=n(4570),u=n(9788);let g=0;class m{constructor(e){this.component=e,this.options=[],!this.selectId&&!this.component.readonly&&(this.selectId=this.component.element.id?`${this.component.element.id}__select`:"gx-select-auto-id-"+g++)}updateOptions(e){this.options=e}getNativeInputId(){return this.component.readonly?null:this.selectId}getReadonlyTextContent(){const e=this.options.filter(l=>l.value===this.component.value);return e.length>0?e[0].innerText:""}getValueFromEvent(e){return e.target&&e.target.value}handleChange(e){this.component.value=this.getValueFromEvent(e),this.component.input.emit(e)}render(e){const l=(0,u.a)(this.component.cssClass);if(this.component.readonly)return(0,s.h)("div",{class:{"gx-select-control":!0,[this.component.cssClass]:!!this.component.cssClass,[l.vars]:!0}},(0,s.h)("span",null,this.getReadonlyTextContent()));{let a;const v={"aria-disabled":this.component.disabled?"true":void 0,class:{"gx-select-control":!0,[this.component.cssClass]:!!this.component.cssClass,[l.vars]:!0,[l.highlighted]:!0},disabled:this.component.disabled,id:this.selectId,onChange:this.handleChange.bind(this),ref:i=>{i.value=this.component.value}};return this.component.suggest&&(a=`${this.selectId}__datalist`),this.component.suggest?[(0,s.h)("gx-bootstrap",null),(0,s.h)("input",{list:a,disabled:this.component.disabled,placeholder:this.component.placeholder,value:this.component.value,onChange:this.handleChange.bind(this)}),(0,s.h)("datalist",{id:a},this.options.map(({innerText:i,selected:o,value:r,disabled:c})=>(0,s.h)("option",{disabled:c,selected:o,value:r},i)))]:[(0,s.h)("select",Object.assign({},v),!e&&(0,s.h)("option",{hidden:!0},this.component.placeholder),this.options.map(({innerText:i,selected:o,value:r,disabled:c})=>(0,s.h)("option",{disabled:c,selected:o,value:r},i)))]}}}let h=class{constructor(t){(0,s.r)(this,t),this.input=(0,s.c)(this,"input",7),this.anOptionHasBeenSelected=!1,this.options=[],this.invisibleMode="collapse",this.disabled=!1,this.renderer=new m(this)}getChildOptions(){return Array.from(this.element.querySelectorAll("gx-select-option")).map(t=>({disabled:t.disabled,innerText:t.innerText,selected:t.selected,value:t.value}))}updateOptions(t){this.options=t,this.renderer.updateOptions(t)}valueChanged(){this.anOptionHasBeenSelected=!1;const t=Array.from(this.element.querySelectorAll("gx-select-option"));t.forEach(e=>{e.value===this.value?(e.selected=!0,this.anOptionHasBeenSelected=!0):e.selected=!1}),this.updateOptions(t.map(e=>({disabled:e.disabled,innerText:e.innerText,selected:e.selected,value:e.value}))),this.didLoad&&this.input.emit({value:this.value})}onSelectOptionDidLoad(t){const e=t.target;this.value?e.selected=this.value===e.value:e.selected&&(this.value=e.value),this.updateOptions(this.getChildOptions())}onSelectOptionDidUnload(){this.updateOptions(this.getChildOptions())}onSelectOptionDisable(){this.updateOptions(this.getChildOptions())}onSelectOptionChange(){this.updateOptions(this.getChildOptions())}onSelectOptionSelect(t){this.options.forEach(e=>{e===t.target?e.value!==this.value&&(this.value=e.value):e.selected=!1})}getNativeInputId(){var t=this;return(0,p.Z)(function*(){return t.renderer.getNativeInputId()})()}componentDidLoad(){this.didLoad=!0}render(){return this.renderer.render(this.anOptionHasBeenSelected)}get element(){return(0,s.g)(this)}static get watchers(){return{value:["valueChanged"]}}};h.style="gx-select{display:flex;box-shadow:0 calc(var(--elevation) * 0.125rem) calc(var(--elevation) * 0.25rem) rgba(0, 0, 0, calc(var(--elevation) * 0.075));flex:1}gx-select[hidden]{display:none !important}gx-select[hidden][invisible-mode=keep-space]{display:flex !important;visibility:hidden}gx-select>.gx-select-control{display:flex;flex:1;transition-property:background-color, border-color, box-shadow, color, filter, opacity, transform;transition-duration:0.25s}gx-select>.gx-select-control>span{width:100%}gx-select>select{background-color:unset;border:none;outline:0}gx-select gx-select-option{display:none !important}gx-select>.gx-select-control{text-align:start;text-align-last:start}gx-select option{text-align:start;text-align-last:start}[align=center] gx-select>.gx-select-control{text-align:center;text-align-last:center}[align=center] gx-select option{text-align:center;text-align-last:center}[align=right] gx-select>.gx-select-control{text-align:end;text-align-last:end}[align=right] gx-select option{text-align:end;text-align-last:end}"}}]);